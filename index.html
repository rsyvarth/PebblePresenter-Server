<html>
<head>
<script src="/socket.io/socket.io.js"></script>
<script>
  // Initialize the socket connection
  var socket = io.connect();
  // Ask client (browser input box) to enter text      
  function sendMessage(){
    socket.emit('sendmessage', document.getElementById('msg').value);
    var elem = document.getElementById('chat');
    elem.innerHTML = '<li>'+document.getElementById('msg').value+'</li>' + elem.innerHTML;
    document.getElementById('msg').value = '';
  }
  // Displaymessage event received at all clients
  // display in alert dialog box
  socket.on('displaymessage', function(data){
    var elem = document.getElementById('chat');
    elem.innerHTML = '<li>'+data+'</li>' + elem.innerHTML;
  });
</script>
</head>
<body>
<input type="text" id="msg" /><input type="button" value="Broadcast" onClick="sendMessage();">
<ul id="chat">
</ul>
</body>
</html>
